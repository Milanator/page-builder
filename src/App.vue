<script setup lang="ts">
import { Block, Config } from "@/lib/utils/types.ts";
import { PageBuilder, SavePayload, Mode, SettingBlock } from "@/lib";
import { ref } from "vue";

const config: Config = {
  language: 'sk',
  uploader: {
    headers: {},
    url: ''
  },
  showDeviceBar: false,
  device: 'custom',
  // affect only if device = custom
  resolution: {
    width: '768',
    height: '1366'
  }
}

const mode = ref<Mode>('editor')
// const settings = new SettingBlock
const settings: SettingBlock = new SettingBlock
const renderList: Block[] = []
// const renderList: Block[] = [{ "id": "818c9980-937f-4c53-929a-3c9457e799a3", "name": "columns", "type": "layout", "title": "Columns", "options": { "columns": 2, "switchCols": false, "verticalAlign": "start", "columnStyles": { "1": { "styleClass": "col", "styles": "padding: 10px", "width": 50 }, "2": { "styleClass": "col", "styles": "padding: 10px", "width": 50 } }, "backgroundColor": "#404143ff" }, "children": { "1": [{ "id": "4f234d45-d4a3-4e89-8302-27e80a2e8f56", "name": "image", "type": "element", "title": "Obrázok", "options": { "stretched": false, "mediaUrl": "http://api-digital-signage-smartcityportal.local:9110/media/eyJpdiI6IjhGRGZXc2xFU1lyWHJOYUllQ25ZM3c9PSIsInZhbHVlIjoiZ2ZlTGNYVnErSWFrWSsxUzZKb3paSWZQMW9mUXQydXhZb3NYZ1NFTVJGTTRzY1c5cTNCTTFXdFQ4N081WjRiQ1VwS0FtWDEzVllnZ2YvdnRJbzlXREE9PSIsIm1hYyI6ImNhMDJhMjRhZGFlMjNkZDYyNzk0ZGJmOTQ1YWNjYmRlMjk2ZGVmNjlkYmY1Y2Q4Y2I2ZmMyZTg5NjRhYWM4NzUiLCJ0YWciOiIifQ==", "marginRight": 50, "marginBottom": 2, "marginTop": 2, "marginLeft": 8 } }], "2": [{ "id": "2f61a65c-e0c5-4e31-97e1-6bab663a14ee", "name": "text", "type": "element", "title": "Text", "options": { "text": "<h1 style=\"text-align: right;\"><span style=\"color: rgb(255, 255, 255);\">VCHOD Č. <strong>2</strong></span></h1>", "cssClasses": "", "styles": "", "lineHeight": 1.4, "letterSpacing": 0, "fontSize": 1.6, "textColor": "#000", "marginTop": 3, "marginLeft": 0, "marginRight": 8 } }] } }, { "id": "6049db01-45b5-4fc9-957b-101393dc0435", "name": "template_3", "type": "layout", "title": "Podujatia", "options": { "columns": 1, "switchCols": false, "verticalAlign": "start", "columnStyles": { "1": { "styleClass": "col" } } }, "children": { "1": [{ "id": "ac09a55d-68a4-49cb-ace5-818b1f510e25", "name": "text", "type": "element", "title": "Text", "options": { "text": "<p><span style=\"color: rgb(0, 134, 181); font-family: Montserrat, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;\"><strong>Podujatia</strong></span></p>", "cssClasses": "bcpb:text-center", "styles": "", "lineHeight": 1, "letterSpacing": 0, "fontSize": 4.5, "textColor": "#000", "marginBottom": 10, "marginTop": 10 } }, { "id": "e60ec376-ddde-4266-9075-fe5d8cde3767", "name": "columns", "type": "layout", "title": "Columns", "options": { "columns": 1, "switchCols": false, "verticalAlign": "start", "columnStyles": { "1": { "marginBottom": 4 } }, "paddingLeft": 5, "paddingRight": 5 }, "children": { "1": [{ "id": "fbaf782c-06d7-43d2-9e42-fae876a448f3", "name": "columns", "type": "layout", "title": "Columns", "options": { "columns": 2, "switchCols": false, "verticalAlign": "top", "columnStyles": { "1": { "marginLeft": 2, "width": 38 }, "2": { "marginLeft": 2, "marginRight": 2, "width": 62 } }, "backgroundColor": "#00000066", "paddingLeft": 0.5, "paddingRight": 0.5, "paddingTop": 0.5, "paddingBottom": 0.5, "borderBottomLeftRadius": 20, "borderBottomRightRadius": 20, "borderTopRightRadius": 20, "borderTopLeftRadius": 20 }, "children": { "1": [{ "id": "601bc44c-1e68-456f-805a-7e05ee05bf87", "name": "image", "type": "element", "title": "Obrázok", "options": { "stretched": true, "borderBottomLeftRadius": 20, "borderBottomRightRadius": 20, "borderTopRightRadius": 20, "borderTopLeftRadius": 20, "mediaUrl": "http://api-digital-signage-smartcityportal.local:9110/media/eyJpdiI6InlTajdvU2dNejdzTGl3MlZkQTB6RFE9PSIsInZhbHVlIjoiNHJrQWVzODZTMTJSMHgrK2k3SGo3aDJiNlROYnhHSTd1d3JiZ1BveHdpa2cxTThUSW5ST3lRU2tUWXliN2pGRm5YR3JnKzl1WnBOZ044RDE1Qjk1Snc9PSIsIm1hYyI6ImE3NzZlMzg4NTk3MjQzMzg2NDBhNjUwMjBiODk3MGFhNzZjZTA2NTE4ZTMxMDg3MjgxZWFjOTZkYTEzMzMwOTUiLCJ0YWciOiIifQ==" } }], "2": [{ "id": "9114a8fc-c587-4275-8015-d372e0d61a09", "name": "text", "type": "element", "title": "Text", "options": { "text": "<p><span style=\"font-family: Montserrat, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;\"><strong>BIELA NOC</strong></span></p>", "cssClasses": "", "styles": "", "lineHeight": 1.4, "letterSpacing": 0, "fontSize": 2, "textColor": "#fff" } }, { "id": "9dc4c52a-0683-453c-8f88-5006a4ff351b", "name": "text", "type": "element", "title": "Text", "options": { "text": "<p><span style=\"font-family: Montserrat, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;\"><strong>10.-12.10.2025</strong> | KOŠICE</span></p>", "cssClasses": "", "styles": "", "lineHeight": 1.4, "letterSpacing": 0, "fontSize": 1.5, "textColor": "#fff", "marginBottom": 1, "marginTop": 1 } }, { "id": "35a10aec-4088-4fcd-b12a-bf70fe80dc23", "name": "text", "type": "element", "title": "Text", "options": { "text": "<p><span style=\"font-family: Montserrat, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;\">Biela Noc 2025 je 16. ročník medzinárodného festivalu súčasného umenia v Košiciach, ktorý sa bude konať 10. – 12. októbra, každý deň od 19:00 do polnoci.</span></p>", "cssClasses": "", "styles": "", "lineHeight": 1.4, "letterSpacing": 0, "fontSize": 1.2, "textColor": "#fff" } }] } }] } }, { "id": "2a62fe12-e823-4eac-9393-5411db68181e", "name": "columns", "type": "layout", "title": "Columns", "options": { "columns": 1, "switchCols": false, "verticalAlign": "start", "columnStyles": { "1": { "marginBottom": 4 } }, "paddingLeft": 5, "paddingRight": 5 }, "children": { "1": [{ "id": "38bbd3b6-9885-4722-8832-03f405aed6ed", "name": "columns", "type": "layout", "title": "Columns", "options": { "columns": 2, "switchCols": false, "verticalAlign": "top", "columnStyles": { "1": { "marginLeft": 2, "width": 38 }, "2": { "marginLeft": 2, "marginRight": 2, "width": 62 } }, "backgroundColor": "#00000066", "paddingLeft": 0.5, "paddingRight": 0.5, "paddingTop": 0.5, "paddingBottom": 0.5, "borderBottomLeftRadius": 20, "borderBottomRightRadius": 20, "borderTopRightRadius": 20, "borderTopLeftRadius": 20 }, "children": { "1": [{ "id": "51399e7f-58d4-4d9b-ac49-3b8b58b5f118", "name": "image", "type": "element", "title": "Obrázok", "options": { "stretched": true, "borderBottomLeftRadius": 20, "borderBottomRightRadius": 20, "borderTopRightRadius": 20, "borderTopLeftRadius": 20, "mediaUrl": "http://api-digital-signage-smartcityportal.local:9110/media/eyJpdiI6IlZObkNaaFNaeEZEalltMXhGQVlaV3c9PSIsInZhbHVlIjoiTGVBeUYrYW1NZ01IcDVaUW11dDZRdnh4TTh4R2dFajVFNTFTS2taL0l0M3hHSXh6SnV0emhyM3ZiYUNoUTFNdGtYbnVRR2lza2ViVVRjWjRJNWxiUlE9PSIsIm1hYyI6ImVlYTI4MjkxYzE3NzY0NTBjNjdlYmJjMmZkOWQ0Y2JiYzZmZTYyYWZlMjVjOTI0MGY4Mjc0NDY5MGZhODVhMzgiLCJ0YWciOiIifQ==" } }], "2": [{ "id": "050acd30-c350-4066-bd8a-1362109e0601", "name": "text", "type": "element", "title": "Text", "options": { "text": "BIELA NOC", "cssClasses": "", "styles": "", "lineHeight": 1.4, "letterSpacing": 0, "fontSize": 2, "textColor": "#fff" } }, { "id": "c40791fc-2d61-46d7-ade0-e91e20e60ad4", "name": "text", "type": "element", "title": "Text", "options": { "text": "10.-12.10.2025 | KOŠICE", "cssClasses": "", "styles": "", "lineHeight": 1.4, "letterSpacing": 0, "fontSize": 1.5, "textColor": "#fff", "marginBottom": 1, "marginTop": 1 } }, { "id": "9d169440-1e0f-4dd1-a386-6bc163be94e8", "name": "text", "type": "element", "title": "Text", "options": { "text": "Biela Noc 2025 je 16. ročník medzinárodného festivalu súčasného umenia v Košiciach, ktorý sa bude konať 10. – 12. októbra, každý deň od 19:00 do polnoci.", "cssClasses": "", "styles": "", "lineHeight": 1.4, "letterSpacing": 0, "fontSize": 1.2, "textColor": "#fff" } }] } }] } }, { "id": "383cac8b-d72b-400f-98e5-3422bed5a09b", "name": "columns", "type": "layout", "title": "Columns", "options": { "columns": 1, "switchCols": false, "verticalAlign": "start", "columnStyles": { "1": { "marginBottom": 4 } }, "paddingLeft": 5, "paddingRight": 5 }, "children": { "1": [{ "id": "e521e7f8-79d2-433a-849a-06ed7ca16686", "name": "columns", "type": "layout", "title": "Columns", "options": { "columns": 2, "switchCols": false, "verticalAlign": "top", "columnStyles": { "1": { "marginLeft": 2, "width": 38 }, "2": { "marginLeft": 2, "marginRight": 2, "width": 62 } }, "backgroundColor": "#00000066", "paddingLeft": 0.5, "paddingRight": 0.5, "paddingTop": 0.5, "paddingBottom": 0.5, "borderBottomLeftRadius": 20, "borderBottomRightRadius": 20, "borderTopRightRadius": 20, "borderTopLeftRadius": 20 }, "children": { "1": [{ "id": "eee3ddb1-9c4e-4320-8c04-3d551d8efddc", "name": "image", "type": "element", "title": "Obrázok", "options": { "stretched": true, "borderBottomLeftRadius": 20, "borderBottomRightRadius": 20, "borderTopRightRadius": 20, "borderTopLeftRadius": 20, "mediaUrl": "http://api-digital-signage-smartcityportal.local:9110/media/eyJpdiI6IlV1SXBwM0xFdDNmWXZGRUVFdXdTUmc9PSIsInZhbHVlIjoiSjdxRjFTUGpLRzVNbmFGTUV3ZTVRNXdxZkxmYWNoeWJ4V1lzL1hPNFcwR1g4MTBGRjNKNFpSSzZld2RGYUlDa2NUZU1adUVCQkpBOTZXQXZXMGpmNmc9PSIsIm1hYyI6IjBiMDVmNDExOTBiNzA1ODE3MmIyNDM5Yjk5NzU5ODVjOTVmZDMzOWI2ZmVjN2NlNTMxYzc0OTkxZTgwOGJmN2EiLCJ0YWciOiIifQ==" } }], "2": [{ "id": "28bfa8ef-e81a-4cbe-939c-fadd3f9302f1", "name": "text", "type": "element", "title": "Text", "options": { "text": "BIELA NOC", "cssClasses": "", "styles": "", "lineHeight": 1.4, "letterSpacing": 0, "fontSize": 2, "textColor": "#fff" } }, { "id": "f043109d-2365-4295-bfd8-a22662b1a78a", "name": "text", "type": "element", "title": "Text", "options": { "text": "10.-12.10.2025 | KOŠICE", "cssClasses": "", "styles": "", "lineHeight": 1.4, "letterSpacing": 0, "fontSize": 1.5, "textColor": "#fff", "marginBottom": 1, "marginTop": 1 } }, { "id": "39ce56b4-9015-4255-8718-f6ff85208e56", "name": "text", "type": "element", "title": "Text", "options": { "text": "Biela Noc 2025 je 16. ročník medzinárodného festivalu súčasného umenia v Košiciach, ktorý sa bude konať 10. – 12. októbra, každý deň od 19:00 do polnoci.", "cssClasses": "", "styles": "", "lineHeight": 1.4, "letterSpacing": 0, "fontSize": 1.2, "textColor": "#fff" } }] } }] } }] } }]

const onSave = ({ renderList, settings }: SavePayload) => {
  console.log(JSON.stringify(renderList), JSON.stringify(settings))
}

const onBack = () => { }

const onPreview = () => { }
</script>
<template>
  <PageBuilder :config="config" :render-list="renderList" :mode="mode" :settings="settings" @onSave="onSave"
    @onPreview="onPreview" @onBack="onBack" />
</template>
